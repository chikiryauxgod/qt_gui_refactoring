commit a01131a97c2b49bd222ab88191a69d942319bb22
Author:     lewace37 <lewace37@yandex.ru>
AuthorDate: Wed Jan 21 12:22:50 2026 +0500
Commit:     lewace37 <lewace37@yandex.ru>
CommitDate: Wed Jan 21 12:22:50 2026 +0500

    feat: add xyz_trajectory_service + test

diff --git a/src/services/__init__.py b/src/services/__init__.py
new file mode 100644
index 0000000..e69de29
diff --git a/src/services/xyz_trajectory_service.py b/src/services/xyz_trajectory_service.py
new file mode 100644
index 0000000..365ce68
--- /dev/null
+++ b/src/services/xyz_trajectory_service.py
@@ -0,0 +1,34 @@
+from typing import List, Tuple
+
+
+PointXYZ = Tuple[float, float, float]
+
+
+class XYZTrajectoryService:
+    """
+    Отвечает ТОЛЬКО за хранение и управление XYZ-траекторией.
+    Не знает ничего про Qt, controller и UI.
+    """
+
+    def __init__(self) -> None:
+        self._points: List[PointXYZ] = []
+
+    def set_initial_point(self, x: float, y: float, z: float) -> None:
+        self._points = [(x, y, z)]
+
+    def add_point(self, x: float, y: float, z: float) -> None:
+        self._points.append((x, y, z))
+
+    def remove_point(self, index: int) -> None:
+        if index < 0 or index >= len(self._points):
+            raise IndexError("Trajectory point index out of range")
+        self._points.pop(index)
+
+    def clear(self) -> None:
+        self._points.clear()
+
+    def get_points(self) -> List[PointXYZ]:
+        return list(self._points)
+
+    def is_empty(self) -> bool:
+        return not self._points
diff --git a/tests/ServiceTab/test_xyz_trajectory_service.py b/tests/ServiceTab/test_xyz_trajectory_service.py
new file mode 100644
index 0000000..8be5f93
--- /dev/null
+++ b/tests/ServiceTab/test_xyz_trajectory_service.py
@@ -0,0 +1,51 @@
+import pytest
+from src.services.xyz_trajectory_service import XYZTrajectoryService
+
+
+def test_set_initial_point():
+    service = XYZTrajectoryService()
+
+    service.set_initial_point(1.0, 2.0, 3.0)
+
+    assert service.get_points() == [(1.0, 2.0, 3.0)]
+
+
+def test_add_point():
+    service = XYZTrajectoryService()
+    service.set_initial_point(0.0, 0.0, 0.0)
+
+    service.add_point(1.0, 2.0, 3.0)
+    service.add_point(4.0, 5.0, 6.0)
+
+    assert service.get_points() == [
+        (0.0, 0.0, 0.0),
+        (1.0, 2.0, 3.0),
+        (4.0, 5.0, 6.0),
+    ]
+
+
+def test_remove_point():
+    service = XYZTrajectoryService()
+    service.set_initial_point(0.0, 0.0, 0.0)
+    service.add_point(1.0, 1.0, 1.0)
+
+    service.remove_point(0)
+
+    assert service.get_points() == [(1.0, 1.0, 1.0)]
+
+
+def test_remove_point_out_of_range():
+    service = XYZTrajectoryService()
+
+    with pytest.raises(IndexError):
+        service.remove_point(0)
+
+
+def test_clear():
+    service = XYZTrajectoryService()
+    service.set_initial_point(0.0, 0.0, 0.0)
+    service.add_point(1.0, 1.0, 1.0)
+
+    service.clear()
+
+    assert service.is_empty()
diff --git a/tests/VideoStreamThread/test_video_stream_thread.py b/tests/VideoStreamThread/_undo_test_video_stream_thread.py
similarity index 100%
rename from tests/VideoStreamThread/test_video_stream_thread.py
rename to tests/VideoStreamThread/_undo_test_video_stream_thread.py
