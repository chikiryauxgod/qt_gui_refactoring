++
++        out_dir = norm_file.with_suffix("")
++        out_dir.mkdir(exist_ok=True)
++
++        for i, chunk in enumerate(chunks):
++            (out_dir / f"chunk_{i}.txt").write_text(chunk)
++
++
++if __name__ == "__main__":
++    main()
+


FILE: scripts/extract_commits.py
LANG: py

+new file mode 100644
+index 0000000..30ac252
+--- /dev/null
++++ b/scripts/extract_commits.py
+@@ -0,0 +1,32 @@
++import subprocess
++from pathlib import Path
++
++OUT_DIR = Path("commits")
++OUT_DIR.mkdir(exist_ok=True)
++
++def get_commits():
++    return subprocess.check_output(
++        ["git", "rev-list", "--reverse", "HEAD"],
++        text=True
++    ).splitlines()
++
++def get_commit_diff(commit):
++    return subprocess.check_output(
++        [
++            "git", "show", commit,
++            "--patch",
++            "--no-color",
++            "--format=fuller"
++        ],
++        text=True
++    )
++
++def main():
++    for commit in get_commits():
++        diff = get_commit_diff(commit)
++        (OUT_DIR / f"{commit}.raw").write_text(diff)
++
++if __name__ == "__main__":
++    main()
++
++
+


FILE: scripts/normalize_commit.py
LANG: py

+new file mode 100644
+index 0000000..a1c3ac3
+--- /dev/null
++++ b/scripts/normalize_commit.py
+@@ -0,0 +1,66 @@
++import re
++from pathlib import Path
++
++EXCLUDED_DIRS = (
++    "vendor/",
++    "node_modules/",
++    "dist/",
++    "build/",
++)
++
++MAX_LINES = 300
++
++def detect_language(path):
++    return Path(path).suffix.lstrip(".")
++
++def normalize_commit(raw: str) -> str:
++    lines = raw.splitlines()
++    header, diff = [], []
++    in_diff = False
++
++    for line in lines:
++        if line.startswith("diff --git"):
++            in_diff = True
++        if in_diff:
++            diff.append(line)
++        else:
++            header.append(line)
++
++    result = ["\n".join(header), "\nFILES:"]
++
++    blocks = "\n".join(diff).split("


FILE: scripts/ollama_client.py
LANG: py

+new file mode 100644
+index 0000000..86342dc
+--- /dev/null
++++ b/scripts/ollama_client.py
+@@ -0,0 +1,60 @@
++import requests
++import json
++import time
++
++OLLAMA_URL = "http://localhost:11434/api/generate"
++MODEL = "qwen2.5:7b"
++
++SYSTEM_PROMPT = """
++Ты — software architect.
++Оцени изменения кода на соответствие принципам SOLID.
++
++Ответ строго в JSON следующего формата:
++{
++  "solid_score": 0-10,
++  "reason": ""
++}
++
++Никакого текста вне JSON.
++"""
++
++def analyze_chunk(chunk: str) -> dict:
++    try:
++        r = requests.post(
++            OLLAMA_URL,
++            json={
++                "model": MODEL,
++                "prompt": SYSTEM_PROMPT + "\n\n" + chunk,
++                "stream": False,
++                "options": {
++                    "temperature": 0,
++                    "num_predict": 400
++                }
++            },
++            timeout=60
++        )
++    except requests.Timeout:
++        return {"error": "timeout"}
++
++    text = r.json().get("response", "").strip()
++
++    if not text:
++        return {"error": "empty_response"}
++
++    # попытка вытащить JSON даже если модель напортачила
++    start = text.find("{")
++    end = text.rfind("}")
++
++    if start == -1 or end == -1:
++        return {
++            "error": "no_json_found",
++            "raw": text[:500]
++        }
++
++    try:
++        return json.loads(text[start:end + 1])
++    except json.JSONDecodeError as e:
++        return {
++            "error": "invalid_json",
++            "raw": text[start:end + 1][:500]
++        }
+


FILE: scripts/readme.md
LANG: md

+new file mode 100644
+index 0000000..b257189
+--- /dev/null
++++ b/scripts/readme.md
+@@ -0,0 +1,6 @@
++ollama serve
++python extract_commits.py
++python normalize_commit.py
++python chunk_commit.py
++python analyze_all.py
++python aggregate_commit.py
+


FILE: src/erosion_process/__init__.py
LANG: py

+similarity index 100%
+rename from src/ErossionProcess/__init__.py
+rename to src/erosion_process/__init__.py
+


FILE: src/erosion_process/erosion_process_tab.py
LANG: py

+similarity index 96%
+rename from src/ErossionProcess/ErosionProcessTab.py
+rename to src/erosion_process/erosion_process_tab.py
+index c5ef03a..d2194c2 100644
+--- a/src/ErossionProcess/ErosionProcessTab.py
++++ b/src/erosion_process/erosion_process_tab.py
+@@ -1,8 +1,5 @@
+ from __future__ import annotations
+ 
+-# =========================
+-# STANDARD
+-# =========================
+ import os
+ import re
+ import time
+@@ -12,9 +9,6 @@ from typing import Callable, Optional, Protocol, Sequence, Tuple, List
+ 
+ import numpy as np
+ 
+-# =========================
+-# QT
+-# =========================
+ from PySide6.QtWidgets import (
+     QWidget, QVBoxLayout, QHBoxLayout, QLabel, QPushButton, QDoubleSpinBox,
+     QProgressBar, QTextEdit, QGroupBox, QFileDialog, QMessageBox, QGridLayout,
+@@ -22,27 +16,15 @@ from PySide6.QtWidgets import (
+ )
+ from PySide6.QtCore import Qt, Slot
+ from PySide6.QtGui import QTextCursor
+-
+-# =========================
+-# MATPLOTLIB
+-# =========================
+ from matplotlib.backends.backend_qt5agg import FigureCanvasQTAgg as FigureCanvas
+ from matplotlib.figure import Figure
+-
+-# =========================
+-# PROJECT IMPORTS
+-# =========================
+-from src.LogText.LogTextBoxErrosion import QueueMessageSource, LogTextBoxErrosion
++from src.log_text.log_text_box_erosion import QueueMessageSource, LogTextBoxErrosion
+ from src.widgets.axis_control_widget import AxisControlWidget
+ from src.arrow3D import Arrow3DData
+ 
+ 
+ Point3D = Tuple[float, float, float]
+ 
+-
+-# ==========================================================
+-# Presenter stack (NO cyclic imports)
+-# ==========================================================
+ class ILogReader(Protocol):
+     def isRunning(self) -> bool: ...
+     def start(self) -> None: ...
+@@ -243,10 +225,6 @@ class ErosionProcessPresenter:
+     def return_to_zero(self) -> None:
+         self._controller.set_coord_pos(self._controller.X0, self._controller.Y0, self._controller.Z0)
+ 
+-
+-# ==========================================================
+-# VIEW (OLD UI preserved)
+-# ==========================================================
+ class ErosionProcessTab(QWidget):